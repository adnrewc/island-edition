# Implementation Plan: Island Edition Newsletter Archive

**Branch**: `001-newsletter-archive` | **Date**: 2025-10-25 | **Spec**: `specs/001-newsletter-archive/spec.md`
**Input**: Feature specification from `/specs/001-newsletter-archive/spec.md`

## Summary

Build a blue-themed, SEO-ready static archive for the Island Edition newsletter using Eleventy to transform preserved `.issues/` HTML files into templated pages. The deliverable includes a narrative homepage, chronological archive index, and issue detail pages that prepend publication dates and link disclaimers while preserving original content. The build pipeline outputs GitHub Pages–compatible assets backed by automated HTML, accessibility, and link integrity tests plus Lighthouse-conscious performance tuning.

## Technical Context

**Language/Version**: Node.js 20.x (build tooling), HTML5, CSS3, progressive enhancement JavaScript (optional, minimal)  
**Primary Dependencies**: `@11ty/eleventy`, `@11ty/eleventy-img`, `lightningcss` (via `@parcel/css`), `html-minifier-terser`, Eleventy Navigation plugin  
**Storage**: Local filesystem for source `.issues/` files, generated data JSON, and processed assets  
**Testing**: npm scripts invoking `html-validate`, `pa11y-ci`, `linkinator`, and Lighthouse CI GitHub Action  
**Target Platform**: GitHub Pages (static hosting)  
**Project Type**: Static web site  
**Performance Goals**: Lighthouse mobile scores ≥ 90 (all categories), First Contentful Paint ≤ 1.5s on 3G Fast, issue images ≤ 500 KB, blocking CSS under 150 KB  
**Constraints**: Output must be static assets only; maintain newsletter fidelity; enforce WCAG AA contrast; disclaimers and dates mandatory; avoid client-side frameworks or runtime dependencies  
**Scale/Scope**: ~60 weekly issues (2022–Nov 2023), single homepage + issue detail collection + sitemap/feeds

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

- **Static Site Simplicity**: Eleventy build outputs static HTML/CSS/JS deployed to GitHub Pages; no runtime servers. ✅
- **Archived Content Integrity**: Ingest script preserves original `.issues/` HTML sources, annotating generated pages with date + disclaimer and documenting adjustments. ✅
- **Testable Publishing Pipeline**: Plan introduces CI with html-validate, pa11y-ci, linkinator (with allowlist), and Lighthouse CI, satisfying testing mandates. ✅
- **Consistent & Accessible Experience**: Shared design tokens and layouts ensure consistent typography, color palette (blue theme), and accessible navigation. ✅
- **Performance & Hosting Discipline**: Asset optimization (eleventy-img, CSS minification, preload strategy) aligns with size/performance limits for GitHub Pages. ✅

## Project Structure

### Documentation (this feature)

```text
specs/001-newsletter-archive/
├── plan.md
├── research.md
├── data-model.md
├── quickstart.md
├── contracts/
└── tasks.md            # Generated by /speckit.tasks
```

### Source Code (repository root)

```text
site/
├── package.json
├── .eleventy.js
├── src/
│   ├── assets/
│   │   ├── css/
│   │   │   ├── base.css
│   │   │   └── tokens.css
│   │   └── images/
│   ├── data/
│   │   └── issues.json
│   ├── includes/
│   │   ├── components/
│   │   └── macros/
│   ├── layouts/
│   │   ├── base.njk
│   │   ├── home.njk
│   │   └── issue.njk
│   ├── pages/
│   │   └── index.njk
│   └── issues/
│       └── [slug].njk
├── scripts/
│   └── ingest-issues.mjs
└── README.md

tests/
├── html/
│   └── html-validate.config.cjs
├── accessibility/
│   └── pa11y-ci.json
└── links/
    └── linkinator.config.json

.github/
└── workflows/
    └── ci.yml
```

**Structure Decision**: Single Eleventy project in `site/` generates `_site/` for deployment. Tests and CI workflows live at repo root to cover the entire static output, while scripts ingest existing `.issues/` HTML into Eleventy-compatible templates without modifying the originals.

## Complexity Tracking

No constitution violations anticipated; section intentionally left empty.
